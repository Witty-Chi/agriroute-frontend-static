(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[314],{4661:(e,t,r)=>{Promise.resolve().then(r.bind(r,9863))},9863:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(5155),a=r(2115);function n(){let[e,t]=(0,a.useState)({crop:"",quantity:"",pickup:"",dropoff:""}),[r,n]=(0,a.useState)(!1),o=r=>{t({...e,[r.target.name]:r.target.value})},l=async r=>{r.preventDefault();try{let r=JSON.parse(localStorage.getItem("farmer")||"{}");(await fetch("http://127.0.0.1:8000/api/transport-requests/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,farmer_id:r.id})})).ok&&(n(!0),t({crop:"",quantity:"",pickup:"",dropoff:""}))}catch(e){console.error("Failed to submit transport request:",e)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-green-100 to-blue-100 p-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-green-800 mb-4",children:"Request Crop Transport"}),r&&(0,s.jsx)("div",{className:"mb-4 text-green-700 font-medium",children:"âœ… Transport request submitted successfully!"}),(0,s.jsxs)("form",{onSubmit:l,className:"bg-white p-6 rounded-lg shadow-md max-w-xl space-y-4 text-gray-800",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block font-semibold mb-1",children:"Crop Type"}),(0,s.jsx)("input",{type:"text",name:"crop",value:e.crop,onChange:o,className:"w-full p-2 border rounded",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block font-semibold mb-1",children:"Quantity (kg)"}),(0,s.jsx)("input",{type:"number",name:"quantity",value:e.quantity,onChange:o,className:"w-full p-2 border rounded",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block font-semibold mb-1",children:"Pickup Location"}),(0,s.jsx)("input",{type:"text",name:"pickup",value:e.pickup,onChange:o,className:"w-full p-2 border rounded",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block font-semibold mb-1",children:"Drop-off Location"}),(0,s.jsx)("input",{type:"text",name:"dropoff",value:e.dropoff,onChange:o,className:"w-full p-2 border rounded",required:!0})]}),(0,s.jsx)("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Submit Request"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(4661)),_N_E=e.O()}]);