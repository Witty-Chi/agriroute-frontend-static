(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[237],{122:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var n=s(5155),a=s(2115);function o(){let e,[t,s]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),[r,i]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)("");"webkitSpeechRecognition"in window&&((e=new window.webkitSpeechRecognition).lang="en-US",e.continuous=!1,e.interimResults=!1);let m=async e=>{try{let t=await fetch("https://agriroute-backend.onrender.com/api/voice_command/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e})}),s=await t.json();s.english&&s.koloqua?(l(s.english),i(s.koloqua),p(s.koloqua)):(l("No valid response"),i("Response not available"))}catch(e){console.error("Backend call failed:",e),l("Error: could not contact backend"),i("")}},p=e=>{let t=window.speechSynthesis,s=new SpeechSynthesisUtterance(e);t.speak(s)};return(0,n.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-green-100 to-blue-100 p-6 text-center",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-green-800 mb-4",children:"\uD83D\uDDE3 AgriRoute Voice Assistant (Koloqua)"}),(0,n.jsx)("p",{className:"text-blue-900 mb-6",children:"Tap mic or type a question to get answers in Koloqua and English"}),(0,n.jsx)("button",{onClick:()=>{e&&(d(!0),e.start(),e.onresult=e=>{let t=e.results[0][0].transcript;s(t),m(t)},e.onerror=e=>{console.error("Speech recognition error:",e),d(!1)},e.onend=()=>{d(!1)})},className:"bg-green-700 hover:bg-green-800 text-white px-6 py-3 rounded-full shadow mb-4",children:c?"\uD83C\uDF99 Listening...":"\uD83C\uDFA4 Tap to Speak"}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),placeholder:"Type your command here...",className:"p-2 border border-green-400 rounded-md w-full max-w-md text-gray-700"}),(0,n.jsx)("button",{onClick:()=>{s(u),m(u)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded ml-2",children:"Submit"})]}),(0,n.jsxs)("div",{className:"bg-white p-4 rounded shadow max-w-xl mx-auto",children:[(0,n.jsx)("p",{className:"font-semibold text-gray-700",children:"You said:"}),(0,n.jsx)("p",{className:"text-lg text-black mb-2",children:t||"..."}),(0,n.jsx)("p",{className:"font-semibold text-gray-700",children:"Response (English):"}),(0,n.jsx)("p",{className:"text-md text-green-700 mb-2",children:o||"..."}),(0,n.jsx)("p",{className:"font-semibold text-gray-700",children:"Response (Koloqua):"}),(0,n.jsx)("p",{className:"text-md text-blue-800",children:r||"..."})]})]})}},5930:(e,t,s)=>{Promise.resolve().then(s.bind(s,122))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(5930)),_N_E=e.O()}]);
