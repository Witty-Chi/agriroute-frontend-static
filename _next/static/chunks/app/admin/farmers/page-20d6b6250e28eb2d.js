(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[37],{6252:(e,r,a)=>{Promise.resolve().then(a.bind(a,8090))},8090:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>n});var s=a(5155),t=a(2115);function n(){let[e,r]=(0,t.useState)([]),[a,n]=(0,t.useState)(!0),[l,o]=(0,t.useState)({name:"",location:"",username:"",password:""}),[d,i]=(0,t.useState)(!1);(0,t.useEffect)(()=>{fetch("http://127.0.0.1:8000/api/farmers/").then(e=>e.json()).then(e=>{r(e),n(!1)}).catch(e=>{console.error("Failed to fetch farmers:",e),n(!1)})},[]);let c=e=>{o({...l,[e.target.name]:e.target.value})},u=async e=>{e.preventDefault(),i(!0);try{let e=await fetch("http://127.0.0.1:8000/api/register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),a=await e.json();r(e=>[...e,a]),o({name:"",location:"",username:"",password:""})}catch(e){console.error("Failed to add farmer:",e)}finally{i(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-white p-6 rounded-xl shadow",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-green-700 mb-6",children:"Farmer Registration"}),(0,s.jsxs)("form",{onSubmit:u,className:"mb-10 p-4 bg-blue-50 rounded-xl",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-blue-700 mb-4",children:"Create Farmer Account"}),(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)("input",{type:"text",name:"name",value:l.name,onChange:c,placeholder:"Full Name",className:"p-3 border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-400",required:!0}),(0,s.jsx)("input",{type:"text",name:"location",value:l.location,onChange:c,placeholder:"Location",className:"p-3 border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-400",required:!0}),(0,s.jsx)("input",{type:"text",name:"username",value:l.username,onChange:c,placeholder:"Username",className:"p-3 border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-400",required:!0}),(0,s.jsx)("input",{type:"password",name:"password",value:l.password,onChange:c,placeholder:"Password",className:"p-3 border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-400",required:!0}),(0,s.jsx)("button",{type:"submit",disabled:d,className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 disabled:opacity-50",children:d?"Submitting...":"Register Farmer"})]})]}),(0,s.jsx)("h3",{className:"text-2xl font-bold text-green-600 mb-4",children:"All Registered Farmers"}),a?(0,s.jsx)("p",{className:"text-blue-600",children:"Loading farmer data..."}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full bg-white rounded-lg shadow-md",children:[(0,s.jsx)("thead",{className:"bg-green-600 text-white",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left py-3 px-6",children:"Name"}),(0,s.jsx)("th",{className:"text-left py-3 px-6",children:"Location"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{className:"border-b hover:bg-green-50",children:[(0,s.jsx)("td",{className:"py-3 px-6 text-blue-900 font-medium",children:e.name}),(0,s.jsx)("td",{className:"py-3 px-6 text-green-800",children:e.location})]},e.id))})]})})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[441,684,358],()=>r(6252)),_N_E=e.O()}]);